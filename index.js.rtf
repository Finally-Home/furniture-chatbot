{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 const express = require('express');\
const axios = require('axios');\
const cors = require('cors');\
require('dotenv').config();\
\
const app = express();\
app.use(cors());\
app.use(express.json());\
\
app.post('/chat', async (req, res) => \{\
  try \{\
    const \{ messages \} = req.body;\
\
    const response = await axios.post(\
      'https://api.openai.com/v1/chat/completions',\
      \{\
        model: 'gpt-3.5-turbo',\
        messages: [\
          \{\
            role: 'system',\
            content: 'You are a helpful assistant for a furniture store called Finally Home Furnishings. Be warm, informative, and suggest products when relevant.'\
          \},\
          ...messages\
        ]\
      \},\
      \{\
        headers: \{\
          Authorization: `Bearer $\{process.env.OPENAI_API_KEY\}`,\
          'Content-Type': 'application/json'\
        \}\
      \}\
    );\
\
    res.json(\{ reply: response.data.choices[0].message \});\
  \} catch (error) \{\
    console.error(error.response?.data || error.message);\
    res.status(500).json(\{ error: 'Something went wrong' \});\
  \}\
\});\
\
const PORT = process.env.PORT || 3001;\
app.listen(PORT, () => console.log(`Server running on port $\{PORT\}`));}